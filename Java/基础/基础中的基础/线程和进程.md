# 线程和进程

[线程和进程的区别是什么](https://www.zhihu.com/question/25532384/answer/81152571)

[进程和线程的深入理解](https://blog.csdn.net/luhao19980909/article/details/89403233)



>   [!notice]
>
>   **进程和线程都是一个时间段的描述，是CPU工作时间段的描述**



## 进程

>   进程是程序的一次执行过程



## 线程

>   线程是CPU调度和分派的基本单位



## 讲解

1.  **背景**

    CPU + RAM + 各种资源 构成我们的电脑, 但电脑执行任务主要是CPU+寄存器+RAM

2.  **基本事实**

    CPU 速度太快了, 在执行寄存器能勉强跟上CPU的处理速度, 但其他设备完全跟不上, 为了更好的利用CPU资源. CPU在处理一段时间任务就要切换到另一个任务里去

3.  **必须知道的事实**

    CPU在执行任务前, 相关资源必须是已经准备好的. 当CPU执行任务前会加载上下文, 程序执行完成或者CPU分配的时间片用尽了就要被切换出去. 切换前的最后一个工作就是保存上下文

4.  **结果**

    CPU执行任务可以看成: **加载A的上下文 > 执行A > 保存A的上下文 > 加载B的上下文 > 执行B > 保存B的上下文 > ......**

5.  **结果2**

    **进程**

    *   进程是系统分配资源的基本单位
    *   是程序一次执行的过程, 由4可知道程序一次执行的过程为: *加载A的上下文 > 执行A > 保存A的上下文*. 

    *   上下文切换开销大

    **线程**

    *   是CPU调度和分配的基本单位
    *   系统不会为线程分配内存. 线程共享进程的资源的
    *   上下文切换开销小

    没有线程的进程可以看做是单线程. 线程是进程的一部分, 可以看做是轻量级的线程

