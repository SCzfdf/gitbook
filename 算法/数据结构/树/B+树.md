# B+树

[面试官问你B树和B+树，就把这篇文章丢给他_图有部分画的有问题](https://segmentfault.com/a/1190000020416577)

B+树和B树的定义是一样的, 都遵循以下3个基本定义

1. 一个节点可以存放多个元素
2. 一个父节点允许多个子节点
3. 节点之间和节点内部是有序的

> 上面3个可以说是多叉树的定义?

​		

B+树也是B树的升级版拥有B树5个特性的前提下增加了2个特性:

1. 非叶子节点不存储数据 (也就是说非叶子节点肯定会有一个对应的叶子节点)
2. 叶子节点有一个指向下一节点的指针

下图是一个3阶的B+树

![image-20220613205533354](B+%E6%A0%91.assets/image-20220613205533354.png)



## B+树的特点

1. 因为非叶子节点不存储数据, 所以B+树的查询时间复杂度固定为log n. (B树也为log n但不是固定的)
2. B+树的叶子节点是一个链表, 可以大大提高区间访问性. 并能支持范围查询

特点2在针对磁盘存储索引时会有非常大的优势!

因为根据局部性原理, 一次加载一批索引也是可以接受的, 哪怕是还没用上. 

而磁盘也是基于页(4k)来读取的. 读取1k的数据和4k的数据实际上是一样的

并且因为只存储索引不存储数据, 一次能加载的索引个数也大大增加

> 局部性原理: 如果一个存储器的某个位置被访问, 那么将它附近的位置大概率也会被访问





