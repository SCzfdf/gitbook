# 边缘触发和水平触发

[NIO的读就绪一直触发](https://www.h5w3.com/171942.html)

[SelectionKey 中 OP_WRITE 事件存在的意义？](https://www.zhihu.com/question/455625954/answer/1846419241)

[Java NIO isConnectable始终返回true](http://cn.voidcc.com/question/p-kfdronce-dx.html)

[水平触发和边缘触发](https://juejin.cn/post/6844903878685622285)

[epoll 边沿触发和水平触发](https://github.com/Petelin/luckblog/issues/20)

​		

*   **水平触发(level-trggered))**

    -   只要文件描述符关联的读内核缓冲区非空，有数据可以读取，就一直发出可读信号进行通知，
    -   当文件描述符关联的内核写缓冲区不满，有空间可以写入，就一直发出可写信号进行通知

    >   只要能做就会触发, 一旦满足条件就能持续触发

    优点: 编程简单, 不容易丢失事件

    缺点: 每次读完之后要注意关闭读事件监听, 不然会造成`select()`频繁返回(频繁修改监听事件).

    >   最后一个参考说会修改底层的红黑树, 应该不会吧, 不就修改个监听事件吗

    ​		

*   **边缘触发(edge-triggered)**

    -   当文件描述符关联的读内核缓冲区由空转化为非空的时候，则发出可读信号进行通知，
    -   当文件描述符关联的内核写缓冲区由满转化为不满的时候，则发出可写信号进行通知

    >   只在状态改变时触发一次. 一次稍纵即逝的变化

    优点: 触发次数少. 性能比较好

    缺点: 因为只会触发一次. 所以每次读/写事件要一次性写完. 可能会对后续事件造成影响



连接断开后会一直有一次读就绪事件. 和这2个没有关系. 只是告诉你连接断开了



